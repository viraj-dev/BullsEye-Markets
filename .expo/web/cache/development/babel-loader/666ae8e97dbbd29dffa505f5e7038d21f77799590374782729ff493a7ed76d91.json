{"ast":null,"code":"import Platform from \"react-native-web/dist/exports/Platform\";\nimport { Buffer } from 'buffer';\nexport async function fetchText(uri) {\n  if (!uri) {\n    return null;\n  }\n  if (uri.startsWith('data:image/svg+xml;utf8') && Platform.OS === 'android') {\n    return dataUriToXml(uri);\n  } else if (uri.startsWith('data:image/svg+xml;base64')) {\n    return decodeBase64Image(uri);\n  } else {\n    return fetchUriData(uri);\n  }\n}\nconst decodeBase64Image = uri => {\n  const decoded = decodeURIComponent(uri);\n  const splitContent = decoded.split(';')[1].split(',');\n  const dataType = splitContent[0];\n  const content = splitContent.slice(1).join(',');\n  return Buffer.from(content, dataType).toString('utf-8');\n};\nfunction dataUriToXml(uri) {\n  try {\n    return decodeURIComponent(uri).split(',').slice(1).join(',');\n  } catch (error) {\n    throw new Error(`Decoding ${uri} failed with error: ${error}`);\n  }\n}\nasync function fetchUriData(uri) {\n  const response = await fetch(uri);\n  if (response.ok || response.status === 0 && uri.startsWith('file://')) {\n    return await response.text();\n  }\n  throw new Error(`Fetching ${uri} failed with status ${response.status}`);\n}","map":{"version":3,"names":["Buffer","fetchText","uri","startsWith","Platform","OS","dataUriToXml","decodeBase64Image","fetchUriData","decoded","decodeURIComponent","splitContent","split","dataType","content","slice","join","from","toString","error","Error","response","fetch","ok","status","text"],"sources":["C:\\StockMarketApp2\\node_modules\\react-native-svg\\src\\utils\\fetchData.ts"],"sourcesContent":["import { Platform } from 'react-native';\nimport { Buffer } from 'buffer';\n\nexport async function fetchText(uri?: string): Promise<string | null> {\n  if (!uri) {\n    return null;\n  }\n  if (uri.startsWith('data:image/svg+xml;utf8') && Platform.OS === 'android') {\n    return dataUriToXml(uri);\n  } else if (uri.startsWith('data:image/svg+xml;base64')) {\n    return decodeBase64Image(uri);\n  } else {\n    return fetchUriData(uri);\n  }\n}\n\nconst decodeBase64Image = (uri: string) => {\n  const decoded = decodeURIComponent(uri);\n  const splitContent = decoded.split(';')[1].split(',');\n  const dataType = splitContent[0] as BufferEncoding;\n  const content = splitContent.slice(1).join(',');\n\n  return Buffer.from(content, dataType).toString('utf-8');\n};\n\nfunction dataUriToXml(uri: string): string | null {\n  try {\n    // decode and remove data:image/svg+xml;utf8, prefix\n    return decodeURIComponent(uri).split(',').slice(1).join(',');\n  } catch (error) {\n    throw new Error(`Decoding ${uri} failed with error: ${error}`);\n  }\n}\n\nasync function fetchUriData(uri: string) {\n  const response = await fetch(uri);\n  if (response.ok || (response.status === 0 && uri.startsWith('file://'))) {\n    return await response.text();\n  }\n  throw new Error(`Fetching ${uri} failed with status ${response.status}`);\n}\n"],"mappings":";AACA,SAASA,MAAM,QAAQ,QAAQ;AAE/B,OAAO,eAAeC,SAASA,CAACC,GAAY,EAA0B;EACpE,IAAI,CAACA,GAAG,EAAE;IACR,OAAO,IAAI;EACb;EACA,IAAIA,GAAG,CAACC,UAAU,CAAC,yBAAyB,CAAC,IAAIC,QAAQ,CAACC,EAAE,KAAK,SAAS,EAAE;IAC1E,OAAOC,YAAY,CAACJ,GAAG,CAAC;EAC1B,CAAC,MAAM,IAAIA,GAAG,CAACC,UAAU,CAAC,2BAA2B,CAAC,EAAE;IACtD,OAAOI,iBAAiB,CAACL,GAAG,CAAC;EAC/B,CAAC,MAAM;IACL,OAAOM,YAAY,CAACN,GAAG,CAAC;EAC1B;AACF;AAEA,MAAMK,iBAAiB,GAAIL,GAAW,IAAK;EACzC,MAAMO,OAAO,GAAGC,kBAAkB,CAACR,GAAG,CAAC;EACvC,MAAMS,YAAY,GAAGF,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC;EACrD,MAAMC,QAAQ,GAAGF,YAAY,CAAC,CAAC,CAAmB;EAClD,MAAMG,OAAO,GAAGH,YAAY,CAACI,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAE/C,OAAOhB,MAAM,CAACiB,IAAI,CAACH,OAAO,EAAED,QAAQ,CAAC,CAACK,QAAQ,CAAC,OAAO,CAAC;AACzD,CAAC;AAED,SAASZ,YAAYA,CAACJ,GAAW,EAAiB;EAChD,IAAI;IAEF,OAAOQ,kBAAkB,CAACR,GAAG,CAAC,CAACU,KAAK,CAAC,GAAG,CAAC,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC9D,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,YAAYlB,GAAG,uBAAuBiB,KAAK,EAAE,CAAC;EAChE;AACF;AAEA,eAAeX,YAAYA,CAACN,GAAW,EAAE;EACvC,MAAMmB,QAAQ,GAAG,MAAMC,KAAK,CAACpB,GAAG,CAAC;EACjC,IAAImB,QAAQ,CAACE,EAAE,IAAKF,QAAQ,CAACG,MAAM,KAAK,CAAC,IAAItB,GAAG,CAACC,UAAU,CAAC,SAAS,CAAE,EAAE;IACvE,OAAO,MAAMkB,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC9B;EACA,MAAM,IAAIL,KAAK,CAAC,YAAYlB,GAAG,uBAAuBmB,QAAQ,CAACG,MAAM,EAAE,CAAC;AAC1E","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}